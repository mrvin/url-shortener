<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Shortener - –°–æ–∫—Ä–∞—â–∞—Ç–µ–ª—å —Å—Å—ã–ª–æ–∫</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">URL Shortener</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link unauth-only" href="login.html">–í–æ–π—Ç–∏</a>
                <a class="nav-link auth-only" href="dashboard.html" style="display: none;">–ú–æ–∏ —Å—Å—ã–ª–∫–∏</a>
                <a class="nav-link auth-only" href="#" onclick="authManager.logout()" style="display: none;">–í—ã–π—Ç–∏</a>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1 class="text-center mb-4">–°–æ–∫—Ä–∞—Ç–∏—Ç–µ –≤–∞—à—É —Å—Å—ã–ª–∫—É</h1>
                
                <!-- –§–æ—Ä–º–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ -->
                <div class="card">
                    <div class="card-body">
                        <form id="shorten-form">
                            <div class="mb-3">
                                <label for="url-input" class="form-label">–î–ª–∏–Ω–Ω–∞—è —Å—Å—ã–ª–∫–∞</label>
                                <input type="url" class="form-control" id="url-input" 
                                       placeholder="https://example.com/very-long-url" autocomplete="off" required>
                            </div>
                            <div class="mb-3">
                                <label for="alias-input" class="form-label">–ñ–µ–ª–∞–µ–º—ã–π –∞–ª–∏–∞—Å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                                <div class="input-group">
                                    <span class="input-group-text">${API_BASE}/</span>
                                    <input type="text" class="form-control" id="alias-input" 
                                            placeholder="my-link" pattern="[a-zA-Z0-9_-]+" autocomplete="off" required>
                                    <button type="button" class="btn btn-outline-secondary" onclick="generateRandomAlias()">
                                        üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                                    </button>
                                </div>
                                <div class="form-text">
                                    <span id="alias-status"></span>
                                    –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –¥–µ—Ñ–∏—Å—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary w-100" id="shorten-btn">
                                –°–æ–∫—Ä–∞—Ç–∏—Ç—å —Å—Å—ã–ª–∫—É
                            </button>
                        </form>
                    </div>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
                <div id="result" class="mt-4"></div>

                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
                <div class="alert alert-info mt-4 unauth-only">
                    <h5>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h5>
                    <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–æ–≤. 
                       <a href="login.html">–í–æ–π–¥–∏—Ç–µ</a> —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Å—Å—ã–ª–∫–∞–º–∏.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
</body>
</html>